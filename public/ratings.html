
<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Ratings - Community Server TovStudio</title><meta name=description content="Ratings Management - Community Server TovStudio"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><script src=https://cdn.socket.io/4.6.0/socket.io.min.js></script><style>:root{--primary-color:#7e69ab;--primary-hover:#6b5b9a;--secondary-color:#9b87f5;--secondary-hover:#8b77f0;--dark-color:#1a1f2c;--darker-color:#151a26;--light-color:#f1f0fb;--text-color:#e5deff;--text-muted:#b8b4d1;--success-color:#48bb78;--warning-color:#f6ad55;--danger-color:#f56565;--gray-color:#a0aec0;--glass-bg:rgba(26, 31, 44, 0.85);--glass-border:rgba(155, 135, 245, 0.3);--glass-hover:rgba(155, 135, 245, 0.1);--status-open:#48bb78;--status-closed:#f56565;--status-on-hold:#f6ad55;--star-color:#ffd700;--star-inactive:#4a5568;--shadow-sm:0 2px 4px rgba(0, 0, 0, 0.1);--shadow-md:0 4px 6px rgba(0, 0, 0, 0.1);--shadow-lg:0 10px 15px rgba(0, 0, 0, 0.2);--border-radius:12px;--border-radius-sm:8px;--border-radius-lg:16px;--transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);--transition-fast:all 0.2s cubic-bezier(0.4, 0, 0.2, 1)}*{margin:0;padding:0;box-sizing:border-box;font-family:Tajawal,Poppins,sans-serif}body{background:linear-gradient(135deg,var(--dark-color) 0,var(--darker-color) 100%);color:var(--text-color);min-height:100vh;overflow-x:hidden;background-size:cover;background-position:center;background-attachment:fixed}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%,rgba(126,105,171,.1) 0,transparent 50%),radial-gradient(circle at 80% 20%,rgba(155,135,245,.1) 0,transparent 50%),radial-gradient(circle at 40% 80%,rgba(126,105,171,.05) 0,transparent 50%);pointer-events:none;z-index:-1}.container{display:flex;min-height:100vh;position:relative}.sidebar{width:280px;background:var(--glass-bg);backdrop-filter:blur(20px);border-right:1px solid var(--glass-border);padding:0;display:flex;flex-direction:column;transition:var(--transition);z-index:100;box-shadow:var(--shadow-lg)}.sidebar.collapsed{width:80px}.logo-container{padding:24px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--glass-border);background:linear-gradient(135deg,var(--glass-bg) 0,rgba(155,135,245,.1) 100%)}.logo{display:flex;align-items:center;transition:var(--transition)}.logo img{width:42px;height:42px;border-radius:50%;margin-right:12px;border:2px solid var(--primary-color);transition:var(--transition)}.logo img:hover{transform:scale(1.05);border-color:var(--secondary-color)}.logo-text{font-size:18px;font-weight:700;color:var(--text-color);white-space:nowrap;transition:var(--transition)}.menu-toggle{cursor:pointer;color:var(--text-color);background:0 0;border:none;font-size:20px;padding:8px;border-radius:var(--border-radius-sm);transition:var(--transition)}.menu-toggle:hover{background:var(--glass-hover);transform:scale(1.1)}.sidebar.collapsed .logo-text{opacity:0;transform:translateX(-20px)}.menu{list-style:none;padding:20px 0;margin:0;flex:1}.menu-item{padding:16px 24px;display:flex;align-items:center;cursor:pointer;color:var(--text-muted);transition:var(--transition);position:relative;margin:4px 12px;border-radius:var(--border-radius)}.menu-item::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:0;background:var(--primary-color);border-radius:2px;transition:var(--transition)}.menu-item.active,.menu-item:hover{background:linear-gradient(135deg,var(--primary-color) 0,var(--secondary-color) 100%);color:#fff;transform:translateX(4px);box-shadow:var(--shadow-md)}.menu-item.active::before,.menu-item:hover::before{height:24px}.menu-item i{width:24px;text-align:center;margin-right:16px;font-size:18px;transition:var(--transition)}.menu-item:hover i{transform:scale(1.1)}.menu-text{font-weight:500;transition:var(--transition)}.sidebar.collapsed .menu-text{opacity:0;transform:translateX(-20px)}.sidebar-bottom-toggle{display:none;padding:16px 24px;margin:4px 12px;cursor:pointer;color:var(--text-muted);background:transparent;border:none;border-radius:var(--border-radius);transition:var(--transition);justify-content:flex-start;align-items:center;font-size:18px;position:relative}.sidebar-bottom-toggle::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:0;background:var(--primary-color);border-radius:2px;transition:var(--transition)}.sidebar-bottom-toggle:hover{background:linear-gradient(135deg,var(--primary-color) 0,var(--secondary-color) 100%);color:#fff;transform:translateX(4px);box-shadow:var(--shadow-md)}.sidebar-bottom-toggle:hover::before{height:24px}.sidebar-bottom-toggle i{width:24px;text-align:center;margin-right:16px;font-size:18px;transition:var(--transition)}.sidebar-bottom-toggle:hover i{transform:scale(1.1)}.sidebar.collapsed .sidebar-bottom-toggle{display:flex}.sidebar.collapsed .menu-toggle{display:none}.main-content{flex:1;padding:32px;overflow-y:auto;position:relative}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding:24px 32px;background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md)}#welcome-message{font-size:18px;font-weight:600;color:var(--text-color);opacity:0;transform:translateY(20px);animation:fadeInUp .6s ease-out .2s forwards}.section-title{font-size:28px;font-weight:700;margin-bottom:32px;color:var(--text-color);position:relative;opacity:0;transform:translateY(20px);animation:fadeInUp .6s ease-out .4s forwards}.section-title::after{content:'';position:absolute;bottom:-8px;left:0;width:60px;height:4px;background:linear-gradient(90deg,var(--primary-color),var(--secondary-color));border-radius:2px}.ratings-container{opacity:0;transform:translateY(20px);animation:fadeInUp .6s ease-out .6s forwards}.rating-item{background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--border-radius-lg);padding:24px;margin-bottom:20px;transition:var(--transition);opacity:0;transform:translateY(20px);animation:slideInUp .5s ease-out forwards;box-shadow:var(--shadow-md);position:relative;overflow:hidden}.rating-item::before{content:'';position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,var(--primary-color),var(--secondary-color));transform:scaleX(0);transition:var(--transition)}.rating-item:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary-color)}.rating-item:hover::before{transform:scaleX(1)}.rating-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.rating-user{display:flex;align-items:center;flex:1}.rating-user-avatar{margin-right:16px;position:relative}.rating-user-avatar img{width:56px;height:56px;border-radius:50%;border:3px solid var(--primary-color);transition:var(--transition);box-shadow:var(--shadow-md)}.rating-user-avatar img:hover{transform:scale(1.05);border-color:var(--secondary-color)}.rating-user-avatar::after{content:'';position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;border-radius:50%;background:linear-gradient(45deg,var(--primary-color),var(--secondary-color));z-index:-1;opacity:0;transition:var(--transition)}.rating-user-avatar:hover::after{opacity:.3}.rating-info{flex:1}.rating-info>div:first-child{font-weight:600;font-size:16px;color:var(--text-color);margin-bottom:4px}.rating-info>div:last-child{color:var(--text-muted);font-size:14px}.rating-stars{display:flex;gap:6px;align-items:center}.rating-stars i{font-size:22px;color:var(--star-inactive);transition:var(--transition-fast);cursor:default}.rating-stars i.active{color:var(--star-color);text-shadow:0 0 8px rgba(255,215,0,.5)}.rating-stars:hover i.active{animation:starPulse .6s ease-in-out}.rating-details{margin:16px 0;padding:16px;background:rgba(155,135,245,.05);border-radius:var(--border-radius);border-left:4px solid var(--primary-color)}.rating-details>div{margin-bottom:8px;font-size:14px;color:var(--text-muted)}.rating-details>div:last-child{margin-bottom:0}.rating-details strong{color:var(--text-color);font-weight:600}.rating-comment{background:linear-gradient(135deg,var(--darker-color) 0,rgba(155,135,245,.1) 100%);padding:16px;border-radius:var(--border-radius);margin-top:16px;font-style:italic;border-left:4px solid var(--secondary-color);position:relative;color:var(--text-color);line-height:1.6}.rating-comment::before{content:'"';position:absolute;top:-8px;left:12px;font-size:32px;color:var(--secondary-color);font-family:serif}.rating-comment::after{content:'"';position:absolute;bottom:-16px;right:12px;font-size:32px;color:var(--secondary-color);font-family:serif}.pagination{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:32px;opacity:0;transform:translateY(20px);animation:fadeInUp .6s ease-out .8s forwards}.pagination-btn{background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);color:var(--text-color);padding:12px 16px;border-radius:var(--border-radius);cursor:pointer;transition:var(--transition);font-weight:500;min-width:48px;box-shadow:var(--shadow-sm)}.pagination-btn:hover{background:var(--primary-hover);border-color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}.pagination-btn.active{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));border-color:var(--secondary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}.btn{padding:12px 24px;border-radius:var(--border-radius);border:none;font-weight:600;cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;gap:8px;font-size:14px;box-shadow:var(--shadow-sm);position:relative;overflow:hidden}.btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:var(--transition)}.btn:hover::before{left:100%}.btn-primary{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff}.btn-primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.btn-secondary{background:var(--glass-bg);color:var(--text-color);border:1px solid var(--primary-color)}.btn-secondary:hover{background:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}#toast-container{position:fixed;top:24px;right:24px;z-index:2000}.toast{display:flex;align-items:center;background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--border-radius-lg);padding:16px 24px;margin-bottom:12px;min-width:320px;max-width:480px;box-shadow:var(--shadow-lg);opacity:0;transform:translateX(100%);animation:slideInRight .4s ease-out forwards}.toast.removing{animation:slideOutRight .4s ease-out forwards}.toast-icon{font-size:20px;margin-right:16px;flex-shrink:0}.toast-content{flex:1}.toast-title{font-weight:600;font-size:15px;margin-bottom:4px}.toast-message{font-size:14px;color:var(--text-muted);line-height:1.4}.toast-close{background:0 0;border:none;color:var(--gray-color);font-size:18px;cursor:pointer;padding:4px;border-radius:4px;transition:var(--transition);margin-left:12px}.toast-close:hover{color:var(--text-color);background:var(--glass-hover)}.empty-state{text-align:center;padding:60px 24px;color:var(--text-muted);opacity:0;transform:translateY(20px);animation:fadeInUp .6s ease-out .6s forwards}.empty-state i{font-size:64px;margin-bottom:24px;color:var(--gray-color);opacity:.5}.empty-state h3{font-size:24px;margin-bottom:12px;color:var(--text-color)}.empty-state p{font-size:16px;line-height:1.6}@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInRight{from{opacity:0;transform:translateX(100%)}to{opacity:1;transform:translateX(0)}}@keyframes slideOutRight{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100%)}}@keyframes starPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}@media (max-width:1024px){.main-content{padding:24px}.header{padding:20px 24px}}@media (max-width:768px){.container{flex-direction:column}.sidebar{width:100%;border-right:none;border-bottom:1px solid var(--glass-border);position:relative}.sidebar.collapsed{width:100%}.main-content{padding:16px}.header{flex-direction:column;gap:16px;padding:16px}.section-title{font-size:24px}.rating-item{padding:16px}.rating-header{flex-direction:column;gap:16px}.rating-user{align-self:stretch}.rating-stars{align-self:flex-start}.pagination{flex-wrap:wrap}.toast{min-width:280px;margin:0 16px 12px 16px}}@media (max-width:480px){.rating-user-avatar img{width:48px;height:48px}.rating-stars i{font-size:18px}.section-title{font-size:20px}}.loading{display:flex;justify-content:center;align-items:center;padding:40px}.loading::after{content:'';width:32px;height:32px;border:3px solid var(--glass-border);border-top-color:var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.rating-item:nth-child(odd){animation-delay:.1s}.rating-item:nth-child(2n){animation-delay:.2s}.rating-item:nth-child(3n){animation-delay:.3s}</style><script src=https://cdn.gpteng.co/gptengineer.js type=module></script><script src=lang-config.js></script><script src=system-config.js></script></head><body><div class=container><div class=sidebar><div class=logo-container><div class=logo><img src="" id=logo-img alt=Logo><div class=logo-text data-lang-key=sidebar.title>Community Server TovStudio</div></div><button class=menu-toggle id=toggle-sidebar><i class="fas fa-bars"></i></button></div><ul class=menu><li class=menu-item onclick='window.location.href="/Home"'><i class="fas fa-home"></i><span class=menu-text>Home</span></li><li class=menu-item onclick='window.location.href="/"'><i class="fas fa-chart-bar"></i><span class=menu-text data-lang-key=sidebar.dashboard>Dashboard</span></li><li class=menu-item onclick='window.location.href="/Tickets"'><i class="fas fa-ticket"></i><span class=menu-text data-lang-key=sidebar.tickets>Tickets</span></li><li class=menu-item onclick='window.location.href="/Users"'><i class="fas fa-users"></i><span class=menu-text data-lang-key=sidebar.users>Users</span></li><li class="menu-item active" onclick='window.location.href="/Ratings"'><i class="fas fa-star"></i><span class=menu-text data-lang-key=sidebar.ratings>Ratings</span></li><li class=menu-item onclick='window.location.href="/Store"'><i class="fas fa-store"></i><span class=menu-text data-lang-key=sidebar.store>Store</span></li><li class=menu-item onclick='window.location.href="/Settings"'><i class="fas fa-cog"></i><span class=menu-text data-lang-key=sidebar.settings>Settings</span></li><li class=menu-item id=logout-btn><i class="fas fa-sign-out-alt"></i><span class=menu-text data-lang-key=sidebar.logout>Logout</span></li></ul><button class="sidebar-bottom-toggle" id="bottom-toggle-sidebar"><i class="fas fa-bars"></i></button></div><div class=main-content><div class=header><div id=welcome-message></div><button class="btn btn-primary" id=login-btn><i class="fas fa-sign-in-alt"></i> <span data-lang-key=header.login>Login</span></button></div><h2 class=section-title data-lang-key=ratings.title>Ratings & Reviews</h2><div class=ratings-container><div id=all-ratings></div><div id=ratings-pagination class=pagination style=display:none></div></div></div></div><div id=toast-container></div><audio id=rating-sound src=https://files.catbox.moe/ghzmdo.mp3></audio><script>const sidebar=document.querySelector(".sidebar"),toggleSidebarBtn=document.getElementById("toggle-sidebar"),bottomToggleBtn=document.getElementById("bottom-toggle-sidebar"),loginBtn=document.getElementById("login-btn"),logoutBtn=document.getElementById("logout-btn");let currentUser=null,isAdmin=!1,settings={},seenRatings=JSON.parse(localStorage.getItem("seenRatings")||"[]"),currentRatingsPage=1,ratingsPerPage=10,lastAudioPlayed={rating:0};const socket=io();function loadSidebarState(){const e=localStorage.getItem("sidebarCollapsed");return"true"===e}function saveSidebarState(e){localStorage.setItem("sidebarCollapsed",e.toString())}function toggleSidebar(){sidebar.classList.toggle("collapsed");const e=sidebar.classList.contains("collapsed");saveSidebarState(e)}function loadUserSettings(){try{const t=localStorage.getItem("userSettings");if(t)return settings=JSON.parse(t),void applySettings();fetch("/api/settings").then(t=>t.json()).then(t=>{settings=t,applySettings(),localStorage.setItem("userSettings",JSON.stringify(settings))}).catch(t=>{console.error("Error loading settings:",t)})}catch(t){console.error("Error loading settings:",t)}}function checkSavedSession(t){fetch(`/auth/check-session?id=${t}`).then(t=>t.json()).then(t=>{t.authenticated?handleSuccessfulLogin(t.user,t.isAdmin):(localStorage.removeItem("ticketSystemUserId"),window.location.href="/auth/discord")}).catch(t=>{console.error("Error checking saved session:",t),localStorage.removeItem("ticketSystemUserId"),window.location.href="/auth/discord"})}function checkAuthStatus(){fetch("/api/auth/status").then(t=>t.json()).then(t=>{t.authenticated?handleSuccessfulLogin(t.user,t.isAdmin):t.banned?(showToast(window.langConfig.getText("toast.banned"),window.langConfig.getText("toast.bannedMessage"),"error"),setTimeout(()=>{window.location.href="/auth/logout"},3e3)):window.location.href="/auth/discord"}).catch(t=>{console.error("Error checking auth status:",t),window.location.href="/auth/discord"})}function handleSuccessfulLogin(t,e){currentUser=t,isAdmin=e,localStorage.setItem("ticketSystemUserId",t.id),document.getElementById("welcome-message").textContent=`${window.langConfig.getText("header.welcome")}${t.global_name||t.username}`,loginBtn.style.display="none",loadRatings()}function applySettings(){settings.background&&(document.body.style.backgroundImage=`url('${settings.background}')`),settings.logo&&(document.getElementById("logo-img").src=settings.logo)}function loadRatings(){document.getElementById("all-ratings").innerHTML='<div class="loading"></div>',fetch("/api/ratings").then(t=>t.json()).then(t=>{const e=document.getElementById("all-ratings"),n=document.getElementById("ratings-pagination");if(0===t.length)return e.innerHTML=`\n                <div class="empty-state">\n                  <i class="fas fa-star"></i>\n                  <h3>${window.langConfig.getText("ratings.noRatings")}</h3>\n                  <p>No ratings have been submitted yet. Ratings will appear here once users start rating their support experience.</p>\n                </div>\n              `,void(n.style.display="none");e.innerHTML="",t.sort((t,e)=>e.timestamp-t.timestamp);let a=0;const i=Math.ceil(t.length/ratingsPerPage),s=(currentRatingsPage-1)*ratingsPerPage,o=s+ratingsPerPage;t.slice(s,o).forEach((t,n)=>{seenRatings.includes(t.id)||(a++,seenRatings.push(t.id),1===a&&playRatingSound());const i=new Date(t.timestamp),s=`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`;let o="";for(let e=1;e<=5;e++)o+=`<i class="fas fa-star${e<=t.rating?" active":""}"></i>`;const r=document.createElement("div");r.className="rating-item",r.style.animationDelay=.1*n+"s",r.innerHTML=`\n                <div class="rating-header">\n                  <div class="rating-user">\n                    <div class="rating-user-avatar">\n                      <img src="${t.userAvatar?`https://cdn.discordapp.com/avatars/${t.userId}/${t.userAvatar}.png`:"https://cdn.discordapp.com/embed/avatars/0.png"}" \n                        alt="${t.username}">\n                    </div>\n                    <div class="rating-info">\n                      <div>${t.username}</div>\n                      <div>${s}</div>\n                    </div>\n                  </div>\n                  <div class="rating-stars">\n                    ${o}\n                  </div>\n                </div>\n                <div class="rating-details">\n                  <div>${window.langConfig.getText("ratings.adminRating")} <strong>${t.adminName||window.langConfig.getText("ratings.systemAdmin")}</strong></div>\n                  <div>${window.langConfig.getText("ratings.ticketTitle")} <strong>${t.ticketTitle}</strong></div>\n                </div>\n                ${t.comment?`\n                  <div class="rating-comment">${t.comment}</div>\n                `:""}\n              `,e.appendChild(r)}),i>1?(n.innerHTML="",n.style.display="flex",createPagination(n,i,currentRatingsPage,t=>{currentRatingsPage=t,loadRatings()})):n.style.display="none",localStorage.setItem("seenRatings",JSON.stringify(seenRatings))}).catch(t=>{console.error("Error loading ratings:",t),document.getElementById("all-ratings").innerHTML='\n              <div class="empty-state">\n                <i class="fas fa-exclamation-triangle"></i>\n                <h3>Error Loading Ratings</h3>\n                <p>There was an error loading the ratings. Please try again later.</p>\n              </div>\n            '})}function createPagination(t,e,n,a){t.innerHTML="";for(let i=1;i<=e;i++){const e=document.createElement("button");e.className="pagination-btn "+(i===n?"active":""),e.textContent=i,e.addEventListener("click",()=>{a(i)}),t.appendChild(e)}}function playRatingSound(){const t=Date.now();if(t-lastAudioPlayed.rating<1e4)return;lastAudioPlayed.rating=t;const e=document.getElementById("rating-sound");e&&(e.volume=.7,e.play().catch(t=>{console.error("Error playing rating sound:",t)}))}function showToast(t,e,n="info"){const a=document.getElementById("toast-container"),i=document.createElement("div");i.className="toast";let s="fa-info-circle";switch(n){case"success":s="fa-check-circle";break;case"error":s="fa-exclamation-circle";break;case"warning":s="fa-exclamation-triangle"}i.innerHTML=`\n          <i class="fas ${s} toast-icon"></i>\n          <div class="toast-content">\n            <div class="toast-title">${t}</div>\n            <div class="toast-message">${e}</div>\n          </div>\n          <button class="toast-close">&times;</button>\n        `,a.appendChild(i);const o=()=>{i.classList.add("removing"),setTimeout(()=>{i.parentNode&&i.remove()},400)};setTimeout(o,5e3),i.querySelector(".toast-close").addEventListener("click",o)}function checkAuthOnLoad(){const t=localStorage.getItem("ticketSystemUserId");t?checkSavedSession(t):window.location.href="/auth/discord",loadUserSettings()}loginBtn.addEventListener("click",()=>{window.location.href="/auth/discord"}),logoutBtn.addEventListener("click",()=>{localStorage.removeItem("ticketSystemUserId"),window.location.href="/auth/logout"}),toggleSidebarBtn.addEventListener("click",toggleSidebar),bottomToggleBtn.addEventListener("click",toggleSidebar),socket.on("new_rating",t=>{loadRatings()}),document.addEventListener("DOMContentLoaded",function(){if(loadSidebarState()&&sidebar.classList.add("collapsed"),window.langConfig){const t=localStorage.getItem("selectedLanguage");t&&window.langConfig.setLanguage(t),window.langConfig.updateUI()}checkAuthOnLoad()})</script></body></html>
